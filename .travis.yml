language: cpp
sudo: required
    
matrix:
  include:
  # Build VESTX-Qt MAC
  # xcode9.2
  - os: osx
    osx_image: xcode9.2	
    sudo: required
    before_install:
        brew install git;
        brew install automake;
        brew install berkeley-db4;
        brew install libtool;
        brew install boost;
        brew install miniupnpc;
        brew install openssl; 
        brew install pkg-config;
        brew install protobuf;
        brew install python;
        brew install qt5;
        brew install libevent;
        brew install qrencode;
        brew install librsvg;
    install: 
        bash autogen.sh;
        bash configure --enable-reduce-exports --disable-bench --disable-tests;
        
    script: make;
            make deploy;

deploy:
  provider: releases
  api_key:
    secure: rVdp12r/jgqpO+qKnqPvDhhhB7om5bnE60rP06oJPBqUoF4viAIOmHDizwbdYDclaTPrA3Z5vsrC7xl1UbRE+HZVjW0n3Wu8xylkF4cmNESVH7bLg9xGCjWol+EoctHazOO6VclD9PxEBJDJQ/fBVq/N5vW5ABFqA/l+qBqUE5lJyblake8RkcxmGiswDwPp5GoZvFdhHtlFG64CWC+0kBJPsywoM+wnOhhxd3K1KNiJI82y0I1JeIUS4iK/T02T/u204Xd3LuHwiZlwDhOLoGs++XwIgZZL2iC94rcGDmtiucMxACWjNECCIuo6Q+nuK4OrRch+cCc8p9BKPUanKVJXs8eLporQYzkQXD6c9sJ5ix/QUEbqsrHpNW4sP19XRsiT/XZtMMus3gTkSRxGDZCxUnwEqFBP9W4clcF34zCIt8ak26lCvk0LF6LINyBeyzUl7yhiHtLgzlXeiDUDtoJLEGlB35eX6Vi3JtY25G43PUvoHFzx2GNrf0S84r/xrdmlhnxWeecUCOZ224IXpkiLv3c5zF+u7YycCI5icbymHEpP5dFW8PChLqsQPb/n05X4xnrWnAoOf3zxM8fb97c30vTh7oTKt3dGSR+m2ZA0bjIuxkh9z7aZWlXaMB+xuSsTNg+LC1K0uK305ryeSZblG9jO1MxhjX6TmPlsI7s=
  file: VESTX-Qt.dmg
  on:
    repo: anonymouszar/vestx
